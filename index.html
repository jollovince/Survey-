<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quiz Bingo</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-gray-900 to-black text-white min-h-screen flex items-center justify-center">
<div class="max-w-5xl w-full p-6">

<h1 class="text-4xl font-extrabold text-center mb-4">QUIZ BINGO</h1>

<!-- TOP BAR -->
<div class="flex justify-between items-center mb-6">
  <div class="flex gap-4 items-center">
    <button id="drawBtn" class="bg-indigo-600 px-6 py-3 rounded-xl font-bold">
      DRAW NUMBER
    </button>
    <div id="currentCall" class="text-3xl font-bold text-yellow-400">—</div>
  </div>
  <div class="text-xl font-bold">
    SCORE: <span id="score">0</span>
  </div>
</div>

<!-- HEADER -->
<div class="grid grid-cols-5 text-center font-bold mb-2">
  <div>B</div><div>I</div><div>N</div><div>G</div><div>O</div>
</div>

<!-- BOARD -->
<div id="board" class="grid grid-cols-5 gap-3 mb-10"></div>

<!-- QUESTION MODAL -->
<div id="questionBox"
     class="hidden fixed inset-0 bg-black/80 flex items-center justify-center z-50">
  <div class="bg-gray-800 p-6 rounded-2xl w-full max-w-lg">

    <div class="flex justify-between items-center mb-3">
      <span id="difficultyBadge" class="text-xs px-3 py-1 rounded-full font-bold"></span>
      <span id="timer" class="text-sm font-bold text-red-400">30s</span>
    </div>

    <p id="questionText" class="mb-6 text-base leading-relaxed"></p>
    <div id="choices" class="space-y-3"></div>
  </div>
</div>

</div>

<script>
/* ================= REAL QUESTIONS (75) ================= */
const questions = [
/* ---------- EASY ---------- */
{
id:1,type:"identification",difficulty:"easy",
q:"HTML is the standard markup language used to create web pages. It structures content using elements like headings, paragraphs, links, and images. What does HTML stand for?",
a:"HyperText Markup Language"
},
{
id:2,type:"mcq",difficulty:"easy",
q:"CSS is used in web development to improve how a website looks. It controls layout, colors, fonts, and spacing. Which of the following best describes the role of CSS?",
c:["Structure content","Style the webpage","Store data","Run server logic"],
a:"Style the webpage"
},
{
id:3,type:"truefalse",difficulty:"easy",
q:"JavaScript is a programming language that runs in the browser and allows websites to respond to user actions such as clicks and form input.",
a:"true"
},
{
id:4,type:"identification",difficulty:"easy",
q:"A computer uses RAM to temporarily store data that is actively being used so programs can run faster. What does RAM stand for?",
a:"Random Access Memory"
},
{
id:5,type:"mcq",difficulty:"easy",
q:"In basic programming logic, conditions are used to make decisions. Which keyword is commonly used to check a condition?",
c:["loop","if","print","var"],
a:"if"
},

/* ---------- AVERAGE ---------- */
{
id:6,type:"identification",difficulty:"average",
q:"In web development, the client sends a request and the server responds with data or a webpage. This interaction is the foundation of how websites work. What is this model called?",
a:"Client-server model"
},
{
id:7,type:"mcq",difficulty:"average",
q:"Databases are used to store and manage data efficiently. Which SQL command is used to retrieve data from a table?",
c:["INSERT","UPDATE","SELECT","DELETE"],
a:"SELECT"
},
{
id:8,type:"truefalse",difficulty:"average",
q:"In programming, a loop is used to repeat a block of code while a certain condition is true.",
a:"true"
},
{
id:9,type:"identification",difficulty:"average",
q:"This programming concept allows a function to call itself in order to solve a problem step by step. What is this concept called?",
a:"Recursion"
},
{
id:10,type:"mcq",difficulty:"average",
q:"APIs allow different software systems to communicate with each other. What does API stand for?",
c:["Application Programming Interface","Advanced Program Integration","Applied Protocol Interface","Application Process Interaction"],
a:"Application Programming Interface"
},

/* ---------- HARD ---------- */
{
id:11,type:"identification",difficulty:"hard",
q:"In operating systems, this technique allows multiple processes to share CPU time efficiently, giving the appearance that tasks are running simultaneously. What is this technique called?",
a:"Multitasking"
},
{
id:12,type:"mcq",difficulty:"hard",
q:"Which data structure follows the Last In, First Out (LIFO) principle and is commonly used in function calls?",
c:["Queue","Array","Stack","Tree"],
a:"Stack"
},
{
id:13,type:"truefalse",difficulty:"hard",
q:"A compiler translates high-level programming code into machine code all at once, while an interpreter translates code line by line.",
a:"true"
},
{
id:14,type:"identification",difficulty:"hard",
q:"This cybersecurity concept ensures that data is protected from unauthorized access by converting it into a coded form. What is this process called?",
a:"Encryption"
},
{
id:15,type:"mcq",difficulty:"hard",
q:"In networking, which protocol is primarily responsible for securely transferring web pages?",
c:["HTTP","FTP","SMTP","HTTPS"],
a:"HTTPS"
}
];

/* Duplicate until 75 (simple reuse with shuffle later) */
let base = [...questions];
while (questions.length < 75) {
  base.forEach(q=>{
    if (questions.length < 75) {
      questions.push({...q, id: questions.length+1});
    }
  });
}

/* ================= POINTS ================= */
const pointsMap = { easy:10, average:25, hard:50 };
let score = 0;
let usedQuestions = new Set();

/* ================= BINGO SETUP ================= */
const ranges=[[1,15],[16,30],[31,45],[46,60],[61,75]];
const letters=["B","I","N","G","O"];
const board=document.getElementById("board");
const boardState={}, cellByNumber={};

function pick(min,max){
  return Array.from({length:max-min+1},(_,i)=>i+min)
    .sort(()=>Math.random()-0.5).slice(0,5);
}
const cols=ranges.map(r=>pick(r[0],r[1]));

for(let r=0;r<5;r++){
  for(let c=0;c<5;c++){
    const n=cols[c][r];
    boardState[n]="available";
    const cell=document.createElement("button");
    cell.textContent=n;
    cell.className="aspect-square bg-gray-700 rounded-xl font-bold text-xl";
    cell.onclick=()=>openQuestion(n,cell);
    board.appendChild(cell);
    cellByNumber[n]=cell;
  }
}

/* ================= CALLER ================= */
let pool=[];
ranges.forEach((r,i)=>{
  for(let n=r[0];n<=r[1];n++) pool.push(`${letters[i]}-${n}`);
});
pool.sort(()=>Math.random()-0.5);

let last=null;
drawBtn.onclick=()=>{
  if(!pool.length) return currentCall.textContent="DONE";
  const call=pool.pop();
  currentCall.textContent=call;
  last=parseInt(call.split("-")[1]);
};

/* ================= TIMER ================= */
let timerInterval=null, timeLeft=30;
const timerEl=document.getElementById("timer");

/* ================= QUESTION LOGIC ================= */
const box=document.getElementById("questionBox");
const qText=document.getElementById("questionText");
const choices=document.getElementById("choices");
const diff=document.getElementById("difficultyBadge");

function openQuestion(num,cell){
  if(num!==last||boardState[num]!=="available")return;
  const q=getQuestion();
  if(!q)return;

  box.classList.remove("hidden");
  qText.textContent=q.q;
  setDifficulty(q.difficulty);
  choices.innerHTML="";
  startTimer(num,cell);

  if(q.type==="mcq"){
    q.c.forEach(choice=>{
      createChoice(choice, choice===q.a, q.difficulty, num, cell);
    });
  }
  if(q.type==="truefalse"){
    ["true","false"].forEach(v=>{
      createChoice(v, v===q.a, q.difficulty, num, cell);
    });
  }
  if(q.type==="identification"){
    const input=document.createElement("input");
    input.className="w-full p-2 rounded bg-gray-700";
    input.placeholder="Type your answer";
    choices.appendChild(input);
    const btn=document.createElement("button");
    btn.textContent="Submit";
    btn.className="w-full bg-indigo-600 py-2 rounded-lg";
    btn.onclick=()=>check(input.value.trim().toLowerCase()===q.a.toLowerCase(),q.difficulty,num,cell);
    choices.appendChild(btn);
  }
}

function createChoice(text,correct,difficulty,num,cell){
  const btn=document.createElement("button");
  btn.textContent=text;
  btn.className="w-full bg-gray-700 hover:bg-indigo-600 py-2 rounded-lg";
  btn.onclick=()=>check(correct,difficulty,num,cell);
  choices.appendChild(btn);
}

function startTimer(num,cell){
  clearInterval(timerInterval);
  timeLeft=30;
  timerEl.textContent="30s";
  timerInterval=setInterval(()=>{
    timeLeft--;
    timerEl.textContent=timeLeft+"s";
    if(timeLeft<=0){
      clearInterval(timerInterval);
      boardState[num]="locked";
      cell.className="aspect-square bg-gray-900 line-through rounded-xl font-bold text-xl";
      close();
    }
  },1000);
}

function check(correct,difficulty,num,cell){
  clearInterval(timerInterval);
  if(correct){
    score+=pointsMap[difficulty];
    document.getElementById("score").textContent=score;
    boardState[num]="marked";
    cell.className="aspect-square bg-green-600 rounded-xl font-bold text-xl";
  }else{
    boardState[num]="locked";
    cell.className="aspect-square bg-gray-900 line-through rounded-xl font-bold text-xl";
  }
  close();
}

function setDifficulty(d){
  const map={easy:"bg-green-600",average:"bg-yellow-500",hard:"bg-red-600"};
  diff.textContent=d.toUpperCase()+" • "+pointsMap[d]+" pts";
  diff.className="text-xs px-3 py-1 rounded-full font-bold "+map[d];
}

function getQuestion(){
  const a=questions.filter(q=>!usedQuestions.has(q.id));
  if(!a.length)return null;
  const q=a[Math.floor(Math.random()*a.length)];
  usedQuestions.add(q.id);
  return q;
}

function close(){
  box.classList.add("hidden");
  last=null;
}
</script>
</body>
</html>
